<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dom Dom - í•œêµ­ì–´ í€´ì¦ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: #f0f0f0;
            max-width: 430px;
            margin: 0 auto;
            overflow-x: hidden;
        }

        .header {
            background-color: #ffffff;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .logo {
            font-size: 42px;
            font-weight: 700;
            color: #6BA3D4;
            letter-spacing: 1px;
            font-family: 'Arial Rounded MT Bold', Arial, sans-serif;
        }

        .logo-subtitle {
            font-size: 12px;
            color: #6BA3D4;
            margin-top: 5px;
        }

        .back-bar {
            background-color: #ffffff;
            display: flex;
            padding: 15px 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .back-button {
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            color: #333;
            fontSize: 14px;
            font-weight: 600;
            background: none;
            border: none;
        }

        .profile-card {
            background-color: #ffffff;
            padding: 20px;
            margin: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .profile-top {
            display: flex;
            align-items: start;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .profile-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .profile-emoji {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #6BA3D4 0%, #5a8cbd 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            fontSize: 36px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            position: relative;
        }

        .profile-name {
            font-size: 20px;
            font-weight: 700;
            color: #333;
        }

        .profile-level {
            color: #6BA3D4;
            font-weight: 700;
            font-size: 14px;
            margin-top: 4px;
        }

        .streak-info {
            text-align: right;
        }

        .streak-number {
            display: flex;
            align-items: center;
            gap: 6px;
            justify-content: flex-end;
            margin-bottom: 4px;
        }

        .streak-text {
            font-size: 20px;
            font-weight: 700;
            color: #f97316;
        }

        .progress-bar-container {
            margin-top: 20px;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #666;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .progress-bar {
            width: 100%;
            backgroundColor: #e5e7eb;
            border-radius: 999px;
            height: 12px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(to right, #f87171, #ef4444, #dc2626);
            height: 12px;
            border-radius: 999px;
            transition: width 0.7s ease-out;
        }

        .attendance-card {
            background-color: #ffffff;
            padding: 20px;
            margin: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .attendance-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .attendance-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 18px;
            font-weight: 700;
            color: #333;
        }

        .attendance-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin-bottom: 20px;
        }

        .attendance-day {
            height: 60px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            box-shadow: 0 2px 8px rgba(251, 146, 60, 0.3);
        }

        .attendance-day.active {
            background: linear-gradient(135deg, #fb923c 0%, #ec4899 100%);
            color: white;
        }

        .attendance-day.inactive {
            background: #f3f4f6;
            color: #9ca3af;
        }

        .quiz-button {
            width: 100%;
            background-color: #ffffff;
            border-radius: 12px;
            padding: 25px 20px;
            border: none;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: all 0.3s;
            margin: 0 20px;
            max-width: 390px;
        }

        .quiz-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
        }

        .quiz-button-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .quiz-button-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .quiz-button-icon {
            font-size: 50px;
        }

        .quiz-button-title {
            font-size: 22px;
            font-weight: 700;
            color: #333;
            margin-bottom: 8px;
        }

        .quiz-button-subtitle {
            color: #666;
            font-size: 13px;
        }

        .difficulty-card {
            background-color: #ffffff;
            border-radius: 12px;
            padding: 20px;
            border: none;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: all 0.3s;
            margin-bottom: 15px;
            width: 100%;
        }

        .difficulty-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
        }

        .difficulty-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .difficulty-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .difficulty-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: 700;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .difficulty-icon.beginner {
            background: linear-gradient(135deg, #4ade80, #10b981);
        }

        .difficulty-icon.intermediate {
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
        }

        .difficulty-icon.advanced {
            background: linear-gradient(135deg, #a78bfa, #ec4899);
        }

        .difficulty-title {
            font-size: 18px;
            font-weight: 700;
            color: #333;
            margin-bottom: 4px;
        }

        .difficulty-desc {
            font-size: 12px;
            color: #666;
        }

        .quiz-card {
            background-color: #ffffff;
            border-radius: 12px;
            padding: 25px 20px;
            margin: 0 20px 30px 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .quiz-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .quiz-badge {
            padding: 8px 14px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: 700;
            color: white;
            background: linear-gradient(135deg, #6BA3D4, #5a8cbd);
        }

        .quiz-question {
            font-size: 20px;
            font-weight: 700;
            color: #333;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .answer-button {
            width: 100%;
            padding: 16px;
            border-radius: 12px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 10px;
            border: 2px solid #e5e7eb;
            background: #ffffff;
            color: #333;
        }

        .answer-button.selected {
            border: 2px solid #6BA3D4;
            background: #6BA3D4;
            color: white;
            box-shadow: 0 2px 8px rgba(107, 163, 212, 0.3);
        }

        .answer-button.correct {
            background: linear-gradient(135deg, #4ade80, #10b981);
            color: white;
            border: none;
        }

        .answer-button.incorrect {
            background: linear-gradient(135deg, #f87171, #ec4899);
            color: white;
            border: none;
        }

        .answer-button.disabled {
            background: #f3f4f6;
            color: #9ca3af;
            border: none;
        }

        .submit-button {
            width: 100%;
            padding: 16px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 15px;
            color: white;
            border: none;
            cursor: pointer;
            background: linear-gradient(135deg, #6BA3D4, #5a8cbd);
            box-shadow: 0 2px 8px rgba(107, 163, 212, 0.3);
            transition: all 0.3s;
        }

        .submit-button:disabled {
            background: #d1d5db;
            box-shadow: none;
            cursor: not-allowed;
        }

        .result-box {
            margin-bottom: 20px;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .result-box.correct {
            background: linear-gradient(to right, #d1fae5, #a7f3d0);
            border: 2px solid #10b981;
        }

        .result-box.incorrect {
            background: linear-gradient(to right, #fee2e2, #fecaca);
            border: 2px solid #ef4444;
        }

        .result-emoji {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .result-text {
            font-size: 14px;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- ë©”ì¸ í™”ë©´ -->
    <div id="mainScreen">
        <div class="header">
            <div class="logo">Dom Dom</div>
            <div class="logo-subtitle">ì™¸êµ­ì¸ ë…¸ë™ì ë„ìš°ë¯¸ ì•±</div>
        </div>

        <div class="back-bar">
            <button class="back-button" onclick="goBack()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 24px; height: 24px;">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                <span>í™ˆìœ¼ë¡œ</span>
            </button>
        </div>

        <div class="profile-card">
            <div class="profile-top">
                <div class="profile-left">
                    <div class="profile-emoji" id="profileEmoji">ğŸ“</div>
                    <div>
                        <div class="profile-name" id="profileName">í•™ìŠµì</div>
                        <div class="profile-level">
                            <span id="levelName">ì…ë¬¸</span> Lv.<span id="levelNumber">1</span>
                            <span style="font-size: 14px;">âœ¨</span>
                        </div>
                    </div>
                </div>
                <div class="streak-info">
                    <div class="streak-number">
                        <span style="font-size: 24px;">ğŸ”¥</span>
                        <span class="streak-text" id="streakDays">0</span>
                        <span style="font-size: 20px; font-weight: 700; color: #f97316;">ì¼</span>
                    </div>
                    <p style="font-size: 12px; color: #666; margin: 4px 0 0 0;">ì—°ì† ì¶œì„</p>
                    <p style="font-size: 11px; color: #999; margin: 2px 0 0 0;">ì´ <span id="totalPoints">0</span>ì </p>
                </div>
            </div>

            <div class="progress-bar-container">
                <div class="progress-label">
                    <span>ê²½í—˜ì¹˜</span>
                    <span><span id="currentExp">0</span> / 50</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <div class="attendance-card">
            <div class="attendance-header">
                <div class="attendance-title">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#6BA3D4" stroke-width="2" style="width: 24px; height: 24px;">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    <span>ì¶œì„ ì²´í¬</span>
                </div>
            </div>

            <div class="attendance-grid" id="attendanceGrid">
                <!-- JavaScriptë¡œ ìƒì„± -->
            </div>

            <p style="text-align: center; font-size: 12px; color: #666;">
                <span style="font-weight: 700; color: #f97316;" id="daysLeft">7</span>ì¼ ë” í•˜ë©´ ì²« ë³´ìƒ íšë“! ğŸ
            </p>
        </div>

        <div style="padding: 0 20px 30px 20px;">
            <button class="quiz-button" onclick="selectCategory()">
                <div class="quiz-button-content">
                    <div class="quiz-button-left">
                        <div class="quiz-button-icon">ğŸ“’</div>
                        <div style="text-align: left;">
                            <h3 class="quiz-button-title">í•œêµ­ì–´ í€´ì¦ˆ</h3>
                            <p class="quiz-button-subtitle">ë§¤ì¼ ì¡°ê¸ˆì”©, ê¾¸ì¤€íˆ ì„±ì¥! ğŸ’ª</p>
                        </div>
                    </div>
                    <div style="font-size: 20px; color: #6BA3D4; font-weight: 700;">â†’</div>
                </div>
            </button>
        </div>
    </div>

    <!-- ë‚œì´ë„ ì„ íƒ í™”ë©´ -->
    <div id="difficultyScreen" class="hidden">
        <div class="header">
            <div class="logo">Dom Dom</div>
            <div class="logo-subtitle">ì™¸êµ­ì¸ ë…¸ë™ì ë„ìš°ë¯¸ ì•±</div>
        </div>

        <div class="back-bar">
            <button class="back-button" onclick="backToMain()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 24px; height: 24px;">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                <span>ëŒì•„ê°€ê¸°</span>
            </button>
        </div>

        <div style="background-color: #ffffff; padding: 20px; margin: 20px; border-radius: 12px; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
            <div style="font-size: 56px; margin-bottom: 10px;">ğŸ’¬</div>
            <h2 style="font-size: 22px; font-weight: 700; color: #333; margin: 0 0 8px 0;">í•œêµ­ì–´ í€´ì¦ˆ</h2>
            <p style="color: #666; font-size: 13px;">ë‚œì´ë„ë¥¼ ì„ íƒí•˜ì„¸ìš”!</p>
        </div>

        <div style="padding: 0 20px 30px 20px;">
            <button class="difficulty-card" onclick="startQuiz('beginner')">
                <div class="difficulty-content">
                    <div class="difficulty-left">
                        <div class="difficulty-icon beginner">1</div>
                        <div style="text-align: left;">
                            <h3 class="difficulty-title">ì´ˆê¸‰</h3>
                            <p class="difficulty-desc">ê¸°ì´ˆë¶€í„° ì°¨ê·¼ì°¨ê·¼</p>
                        </div>
                    </div>
                    <div style="font-size: 32px;">ğŸŒ±</div>
                </div>
            </button>

            <button class="difficulty-card" onclick="startQuiz('intermediate')">
                <div class="difficulty-content">
                    <div class="difficulty-left">
                        <div class="difficulty-icon intermediate">2</div>
                        <div style="text-align: left;">
                            <h3 class="difficulty-title">ì¤‘ê¸‰</h3>
                            <p class="difficulty-desc">ì‹¤ë ¥ì„ í•œ ë‹¨ê³„ ì˜¬ë ¤ìš”</p>
                        </div>
                    </div>
                    <div style="font-size: 32px;">ğŸŒ¿</div>
                </div>
            </button>

            <button class="difficulty-card" onclick="startQuiz('advanced')">
                <div class="difficulty-content">
                    <div class="difficulty-left">
                        <div class="difficulty-icon advanced">3</div>
                        <div style="text-align: left;">
                            <h3 class="difficulty-title">ìƒê¸‰</h3>
                            <p class="difficulty-desc">ì „ë¬¸ê°€ ë ˆë²¨ ë„ì „!</p>
                        </div>
                    </div>
                    <div style="font-size: 32px;">ğŸŒ³</div>
                </div>
            </button>
        </div>
    </div>

    <!-- í€´ì¦ˆ í™”ë©´ -->
    <div id="quizScreen" class="hidden">
        <div class="header">
            <div class="logo">Dom Dom</div>
            <div class="logo-subtitle">ì™¸êµ­ì¸ ë…¸ë™ì ë„ìš°ë¯¸ ì•±</div>
        </div>

        <div style="background-color: #ffffff; padding: 15px 20px; display: flex; align-items: center; justify-content: space-between; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
            <div style="display: flex; align-items: center; gap: 10px;">
                <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #6BA3D4, #5a8cbd); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                    <span id="quizProfileEmoji">ğŸ“</span>
                </div>
                <div>
                    <p style="font-weight: 700; color: #333; margin: 0; font-size: 13px;"><span id="quizLevelName">ì…ë¬¸</span> Lv.<span id="quizLevelNumber">1</span></p>
                    <p style="font-size: 11px; color: #666; margin: 2px 0 0 0;"><span id="quizTotalPoints">0</span>ì </p>
                </div>
            </div>
            <div style="display: flex; align-items: center; gap: 6px; color: #f97316;">
                <span style="font-size: 18px;">ğŸ”¥</span>
                <span style="font-weight: 700; font-size: 14px;"><span id="quizStreakDays">0</span>ì¼</span>
            </div>
        </div>

        <div style="text-align: center; padding: 20px;">
            <div style="display: inline-block; background-color: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); padding: 12px 20px;">
                <p style="color: #333; font-weight: 600; margin: 0; font-size: 13px; display: flex; align-items: center; gap: 8px;">
                    <span style="font-size: 20px;">ğŸ’ª</span>
                    <span>í™”ì´íŒ…! ë‹¹ì‹ ì€ í•  ìˆ˜ ìˆì–´ìš”!</span>
                </p>
            </div>
        </div>

        <div class="quiz-card">
            <div class="quiz-header">
                <span class="quiz-badge">ğŸ’¬ í•œêµ­ì–´ í€´ì¦ˆ</span>
                <span class="quiz-badge" id="difficultyBadge">ì´ˆê¸‰</span>
            </div>

            <h2 class="quiz-question" id="quizQuestion">ë¬¸ì œê°€ ë¡œë”© ì¤‘ì…ë‹ˆë‹¤...</h2>

            <div id="answersContainer" style="margin-bottom: 25px;">
                <!-- JavaScriptë¡œ ìƒì„± -->
            </div>

            <div id="submitButtonContainer">
                <button class="submit-button" id="submitButton" onclick="submitAnswer()" disabled>ë‹µë³€ ì œì¶œí•˜ê¸°</button>
            </div>

            <div id="resultContainer" class="hidden">
                <!-- JavaScriptë¡œ ìƒì„± -->
            </div>
        </div>
    </div>

    <script>
        const quizData = {
            beginner: [
                { id: 1, question: 'ì•ˆë…•í•˜ì„¸ìš”ì˜ ì˜ë¯¸ëŠ”?', answers: ['ë§Œë‚¬ì„ ë•Œ í•˜ëŠ” ì¸ì‚¬ë§', 'í—¤ì–´ì§ˆ ë•Œ í•˜ëŠ” ì¸ì‚¬ë§', 'ê³ ë§ˆì›€ì„ í‘œí˜„í•˜ëŠ” ë§', 'ë¯¸ì•ˆí•¨ì„ í‘œí˜„í•˜ëŠ” ë§'], correct: 0 },
                { id: 2, question: 'ê°ì‚¬í•©ë‹ˆë‹¤ëŠ” ë¬´ìŠ¨ ëœ»ì¼ê¹Œìš”?', answers: ['ì‹¤ë¡€ë¥¼ êµ¬í•  ë•Œ ì“°ëŠ” ë§', 'ê³ ë§ˆì›€ì„ í‘œí˜„í•˜ëŠ” ë§', 'ë¶€íƒí•  ë•Œ ì“°ëŠ” ë§', 'í™˜ì˜í•  ë•Œ ì“°ëŠ” ë§'], correct: 1 },
                { id: 3, question: 'ë¬¼ì„ ì„¤ëª…í•˜ë©´?', answers: ['ìŒì‹', 'ë§ˆì‹œëŠ” íˆ¬ëª…í•œ ì•¡ì²´', 'ìŒ€ë¡œ ë§Œë“  ìŒì‹', 'ì°¨'], correct: 1 },
                { id: 4, question: 'ë°¥ì˜ ì˜ë¯¸ëŠ”?', answers: ['êµ­', 'ìŒ€ë¡œ ì§€ì€ ìŒì‹ ë˜ëŠ” ì‹ì‚¬', 'ë¹µ', 'êµ­ìˆ˜'], correct: 1 },
                { id: 5, question: 'ì¹œêµ¬ëŠ” ë¬´ìŠ¨ ëœ»ì¼ê¹Œìš”?', answers: ['ê°€ì¡±', 'ê°€ê¹Œì´ ì§€ë‚´ëŠ” ì‚¬ëŒ', 'ì„ ìƒë‹˜', 'í•™ìƒ'], correct: 1 },
                { id: 6, question: 'í•™êµë¥¼ ì„¤ëª…í•˜ë©´?', answers: ['ë°°ìš°ëŠ” ê³³', 'ì‚¬ëŠ” ê³³', 'ë†€ì´í„°', 'ë¬¼ê±´ ì‚¬ëŠ” ê³³'], correct: 0 },
                { id: 7, question: 'ì‚¬ë‘ì˜ ì˜ë¯¸ëŠ”?', answers: ['ì‹«ì–´í•˜ëŠ” ë§ˆìŒ', 'ì¢‹ì•„í•˜ëŠ” ë§ˆìŒ', 'ì•„ì£¼ ê¹Šì´ ì¢‹ì•„í•˜ëŠ” ë§ˆìŒ', 'í™”ë‚œ ê°ì •'], correct: 2 },
                { id: 8, question: 'ì±…ì„ ì„¤ëª…í•˜ë©´?', answers: ['ê¸€ì”¨ ì“°ëŠ” ë„êµ¬', 'ì¢…ì´', 'ê¸€ê³¼ ê·¸ë¦¼ì´ ìˆëŠ” ê²ƒ', 'ì•‰ëŠ” ê³³'], correct: 2 },
            ],
            intermediate: [
                { id: 9, question: 'ì•½ì†ì˜ ì˜ë¯¸ëŠ”?', answers: ['ì•½', 'ë¯¸ë¦¬ ì •í•œ ì‹œê°„ì´ë‚˜ ì¼', 'ì•½ì ', 'ë³‘ì›'], correct: 1 },
                { id: 10, question: 'ì•„ê¹Œì›Œí•˜ë‹¤ëŠ” ë¬´ìŠ¨ ëœ»ì¼ê¹Œìš”?', answers: ['ë²„ë¦¬ê¸° ì•ˆíƒ€ê¹Œìš´ ë§ˆìŒ', 'í™”ë‚˜ëŠ” ë§ˆìŒ', 'ê¸°ìœ ë§ˆìŒ', 'í”¼ê³¤í•œ ë§ˆìŒ'], correct: 0 },
                { id: 11, question: 'ì„¤ë ˆë‹¤ì˜ ëœ»ì€?', answers: ['ìŠ¬í”ˆ ë§ˆìŒ', 'ê¸°ëŒ€ë˜ì–´ ê°€ìŠ´ì´ ë‘ê·¼ê±°ë¦¼', 'í˜¼ë€ìŠ¤ëŸ¬ìš´ ìƒíƒœ', 'ì¡¸ë¦° ìƒíƒœ'], correct: 1 },
                { id: 12, question: 'ë¶€ë„ëŸ½ë‹¤ëŠ” ë¬´ìŠ¨ ëœ»ì¼ê¹Œìš”?', answers: ['ìë‘ìŠ¤ëŸ¬ìš´', 'ì°½í”¼í•˜ê±°ë‚˜ ì‘¥ìŠ¤ëŸ¬ìš´', 'ìì‹  ìˆëŠ”', 'ìš©ê°í•œ'], correct: 1 },
                { id: 13, question: 'ê·¸ë¦½ë‹¤ì˜ ì˜ë¯¸ëŠ”?', answers: ['ê·¸ë¦¼ì„ ê·¸ë¦¬ë‹¤', 'ë³´ê³  ì‹¶ê³  ìƒê°ë‚˜ë‹¤', 'ì¡ë‹¤', 'ë³´ë‹¤'], correct: 1 },
                { id: 14, question: 'ì„œìš´í•˜ë‹¤ëŠ” ë¬´ìŠ¨ ëœ»ì¼ê¹Œìš”?', answers: ['ê¸°ìœ', 'ì„­ì„­í•˜ê³  ì•„ì‰¬ìš´', 'ì‹ ë‚˜ëŠ”', 'ê±±ì •ë˜ëŠ”'], correct: 1 },
                { id: 15, question: 'ë‹µë‹µí•˜ë‹¤ì˜ ëœ»ì€?', answers: ['ë§‰í˜€ì„œ ë¶ˆí¸í•˜ê±°ë‚˜ ê°‘ê°‘í•œ', 'í¸ì•ˆí•œ', 'ë„“ì€', 'ë§‘ì€'], correct: 0 },
            ],
            advanced: [
                { id: 16, question: 'ëˆˆì¹˜ê°€ ë¹ ë¥´ë‹¤ëŠ” ë¬´ìŠ¨ ì˜ë¯¸ì¸ê°€ìš”?', answers: ['ë‹¬ë¦¬ê¸°ë¥¼ ì˜í•¨', 'ìƒí™©ì„ ë¹¨ë¦¬ íŒŒì•…í•¨', 'ì‹œë ¥ì´ ì¢‹ìŒ', 'ê³µë¶€ë¥¼ ì˜í•¨'], correct: 1 },
                { id: 17, question: 'ì†ì´ í¬ë‹¤ì˜ ê´€ìš©ì  ì˜ë¯¸ëŠ”?', answers: ['ì†ì˜ í¬ê¸°ê°€ í¼', 'ì¸ì‹¬ì´ í›„í•˜ê³  ë² í’‚ì´ ë§ìŒ', 'í˜ì´ ì…ˆ', 'ë¬¼ê±´ì„ ì˜ ë–¨ì–´ëœ¨ë¦¼'], correct: 1 },
                { id: 18, question: 'ë°œì´ ë„“ë‹¤ëŠ” ë¬´ìŠ¨ ëœ»ì¼ê¹Œìš”?', answers: ['ë°œì˜ í¬ê¸°ê°€ í¼', 'ì•„ëŠ” ì‚¬ëŒì´ ë§ê³  ì¸ë§¥ì´ ë„“ìŒ', 'í‚¤ê°€ í¼', 'ê±·ëŠ” ì†ë„ê°€ ë¹ ë¦„'], correct: 1 },
                { id: 19, question: 'ê·€ê°€ ì–‡ë‹¤ì˜ ì˜ë¯¸ëŠ”?', answers: ['ê·€ê°€ ì–‡ìŒ', 'ë‚¨ì˜ ë§ì„ ì‰½ê²Œ ë¯¿ìŒ', 'ì²­ë ¥ì´ ì¢‹ìŒ', 'ë‚¨ì˜ ë§ì„ ì•ˆ ë“¤ìŒ'], correct: 1 },
                { id: 20, question: 'ì…ì´ ë¬´ê²ë‹¤ëŠ” ë¬´ìŠ¨ ëœ»ì¼ê¹Œìš”?', answers: ['ì…ìˆ ì´ ë¬´ê±°ì›€', 'ë¹„ë°€ì„ ì˜ ì§€í‚´', 'ë§ì„ ë§ì´ í•¨', 'ì… ëƒ„ìƒˆê°€ ë‚¨'], correct: 1 },
            ]
        };

        let userData = {
            name: 'í•™ìŠµì',
            emoji: 'ğŸ“',
            level: 1,
            exp: 0,
            streak: 0,
            totalPoints: 0
        };

        let currentQuiz = null;
        let selectedAnswer = null;
        let currentDifficulty = null;

        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë°ì´í„° ë¡œë“œ
        function loadUserData() {
            const saved = localStorage.getItem('domdomUserData');
            if (saved) {
                userData = JSON.parse(saved);
                updateUI();
            }
        }

        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ë°ì´í„° ì €ì¥
        function saveUserData() {
            localStorage.setItem('domdomUserData', JSON.stringify(userData));
        }

        // UI ì—…ë°ì´íŠ¸
        function updateUI() {
            document.getElementById('profileName').textContent = userData.name;
            document.getElementById('profileEmoji').textContent = userData.emoji;
            document.getElementById('levelNumber').textContent = userData.level;
            document.getElementById('levelName').textContent = getLevelName(userData.level);
            document.getElementById('streakDays').textContent = userData.streak;
            document.getElementById('totalPoints').textContent = userData.totalPoints;
            document.getElementById('currentExp').textContent = userData.exp % 50;
            document.getElementById('daysLeft').textContent = 7 - userData.streak;
            
            const progress = ((userData.exp % 50) / 50) * 100;
            document.getElementById('progressFill').style.width = progress + '%';

            // ì¶œì„ ê·¸ë¦¬ë“œ ì—…ë°ì´íŠ¸
            updateAttendanceGrid();
        }

        // ì¶œì„ ê·¸ë¦¬ë“œ ìƒì„±
        function updateAttendanceGrid() {
            const grid = document.getElementById('attendanceGrid');
            grid.innerHTML = '';
            
            for (let i = 1; i <= 7; i++) {
                const day = document.createElement('div');
                day.className = 'attendance-day ' + (i <= userData.streak ? 'active' : 'inactive');
                day.innerHTML = `
                    <span style="font-size: 20px; margin-bottom: 2px;">${i <= userData.streak ? 'âœ“' : i}</span>
                    <span style="font-size: 10px;">Day</span>
                `;
                grid.appendChild(day);
            }
        }

        // ë ˆë²¨ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
        function getLevelName(level) {
            if (level >= 9) return 'ì „ë¬¸ê°€';
            if (level >= 7) return 'ê³ ê¸‰';
            if (level >= 5) return 'ì¤‘ê¸‰';
            if (level >= 3) return 'ì´ˆê¸‰';
            return 'ì…ë¬¸';
        }

        // ë‚œì´ë„ í…ìŠ¤íŠ¸
        function getDifficultyText(difficulty) {
            if (difficulty === 'beginner') return 'ì´ˆê¸‰';
            if (difficulty === 'intermediate') return 'ì¤‘ê¸‰';
            return 'ìƒê¸‰';
        }

        // í™”ë©´ ì „í™˜
        function selectCategory() {
            document.getElementById('mainScreen').classList.add('hidden');
            document.getElementById('difficultyScreen').classList.remove('hidden');
        }

        function backToMain() {
            document.getElementById('difficultyScreen').classList.add('hidden');
            document.getElementById('mainScreen').classList.remove('hidden');
        }

        function goBack() {
            window.location.href = 'index.html';
        }

        // í€´ì¦ˆ ì‹œì‘
        function startQuiz(difficulty) {
            currentDifficulty = difficulty;
            const quizzes = quizData[difficulty];
            currentQuiz = quizzes[Math.floor(Math.random() * quizzes.length)];
            selectedAnswer = null;

            // í€´ì¦ˆ í™”ë©´ìœ¼ë¡œ ì „í™˜
            document.getElementById('difficultyScreen').classList.add('hidden');
            document.getElementById('quizScreen').classList.remove('hidden');

            // ìœ ì € ì •ë³´ ì—…ë°ì´íŠ¸
            document.getElementById('quizProfileEmoji').textContent = userData.emoji;
            document.getElementById('quizLevelName').textContent = getLevelName(userData.level);
            document.getElementById('quizLevelNumber').textContent = userData.level;
            document.getElementById('quizTotalPoints').textContent = userData.totalPoints;
            document.getElementById('quizStreakDays').textContent = userData.streak;

            // ë‚œì´ë„ ë°°ì§€ ì—…ë°ì´íŠ¸
            const badge = document.getElementById('difficultyBadge');
            badge.textContent = getDifficultyText(difficulty);
            if (difficulty === 'beginner') {
                badge.style.background = 'linear-gradient(135deg, #4ade80, #10b981)';
            } else if (difficulty === 'intermediate') {
                badge.style.background = 'linear-gradient(135deg, #60a5fa, #3b82f6)';
            } else {
                badge.style.background = 'linear-gradient(135deg, #a78bfa, #ec4899)';
            }

            // ë¬¸ì œ í‘œì‹œ
            document.getElementById('quizQuestion').textContent = currentQuiz.question;

            // ë‹µë³€ ë²„íŠ¼ ìƒì„±
            const container = document.getElementById('answersContainer');
            container.innerHTML = '';
            currentQuiz.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'answer-button';
                button.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 16px; font-weight: 700;">${String.fromCharCode(65 + index)}</span>
                        <span>${answer}</span>
                    </div>
                `;
                button.onclick = () => selectAnswer(index);
                container.appendChild(button);
            });

            // ê²°ê³¼ ìˆ¨ê¸°ê¸°
            document.getElementById('resultContainer').classList.add('hidden');
            document.getElementById('submitButtonContainer').classList.remove('hidden');
            document.getElementById('submitButton').disabled = true;
        }

        // ë‹µë³€ ì„ íƒ
        function selectAnswer(index) {
            selectedAnswer = index;
            
            // ëª¨ë“  ë²„íŠ¼ì—ì„œ selected ì œê±°
            const buttons = document.querySelectorAll('.answer-button');
            buttons.forEach(btn => btn.classList.remove('selected'));
            
            // ì„ íƒëœ ë²„íŠ¼ì— selected ì¶”ê°€
            buttons[index].classList.add('selected');
            
            // ì œì¶œ ë²„íŠ¼ í™œì„±í™”
            document.getElementById('submitButton').disabled = false;
        }

        // ë‹µë³€ ì œì¶œ
        function submitAnswer() {
            if (selectedAnswer === null) return;

            const isCorrect = selectedAnswer === currentQuiz.correct;
            const basePoints = currentDifficulty === 'advanced' ? 15 : currentDifficulty === 'intermediate' ? 12 : 10;
            const points = isCorrect ? basePoints : 0;

            // ë‹µë³€ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë³€ê²½
            const buttons = document.querySelectorAll('.answer-button');
            buttons.forEach((btn, index) => {
                btn.onclick = null;
                if (index === currentQuiz.correct) {
                    btn.classList.add('correct');
                    btn.classList.remove('selected');
                } else if (index === selectedAnswer) {
                    btn.classList.add('incorrect');
                    btn.classList.remove('selected');
                } else {
                    btn.classList.add('disabled');
                }
            });

            // ê²½í—˜ì¹˜ ë° í¬ì¸íŠ¸ ì—…ë°ì´íŠ¸
            if (isCorrect) {
                userData.exp += points;
                userData.totalPoints += points;
                const newLevel = Math.floor(userData.exp / 50) + 1;
                userData.level = Math.min(newLevel, 10);
                saveUserData();
            }

            // ê²°ê³¼ í‘œì‹œ
            document.getElementById('submitButtonContainer').classList.add('hidden');
            const resultContainer = document.getElementById('resultContainer');
            resultContainer.classList.remove('hidden');
            resultContainer.innerHTML = `
                <div class="result-box ${isCorrect ? 'correct' : 'incorrect'}">
                    <p class="result-emoji">${isCorrect ? 'ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤!' : 'ğŸ˜… í‹€ë ¸ìŠµë‹ˆë‹¤'}</p>
                    <p class="result-text">
                        ${isCorrect 
                            ? `+${points} ê²½í—˜ì¹˜ë¥¼ íšë“í–ˆìŠµë‹ˆë‹¤!` 
                            : `ì •ë‹µ: ${currentQuiz.answers[currentQuiz.correct]}`}
                    </p>
                </div>
                <button 
                    onclick="backToMainFromQuiz()"
                    style="width: 100%; background: linear-gradient(135deg, #6b7280, #4b5563); color: white; font-weight: 700; padding: 16px; border-radius: 12px; font-size: 15px; border: none; cursor: pointer; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
                </button>
            `;
        }

        function backToMainFromQuiz() {
            document.getElementById('quizScreen').classList.add('hidden');
            document.getElementById('mainScreen').classList.remove('hidden');
            updateUI();
        }

        // ì´ˆê¸°í™”
        loadUserData();
        updateUI();
    </script>
</body>
</html>
